{% load static %}
<style>
    .px-9{
        padding: 0.375rem .9rem !important;
    }
</style>
<aside id="main-aside" class="d-flex flex-column border-end border-secondary-subtle shadow-sm">
    <div class="p-3 flex-grow-1">
        <div class="d-flex flex-wrap align-items-center justify-content-center gap-2">
            <i class="bi bi-boxes fs-4"></i>
            <h1 class="fw-bold fs-5 mb-0">InvSe</h1>
        </div>

        <div class="d-flex flex-column mt-3 gap-1">
            <a href="{% url 'home' %}"
                class="btn {% if 'Inicio' in title_page %}btn-black{% else %}btn-ghost-black border-0{% endif %} d-flex align-items-center text-decoration-none rounded gap-3 text-nowrap overflow-hidden px-9">
                <i class="bi bi-house-door fs-5"></i> Inicio
            </a>
            <a href="{% url 'inventario' %}"
                class="btn {% if 'Inventario' in title_page %}btn-black{% else %}btn-ghost-black border-0{% endif %} d-flex align-items-center text-decoration-none rounded gap-3 text-nowrap overflow-hidden px-9">
                <i class="bi bi-pass fs-5"></i> Inventario
            </a>

            <div class="w-100 overflow-hidden">
                <button
                class="btn {% if 'productos' in request.path %}btn-black rounded-bottom-0 {% else %}btn-ghost-black border-0 {% endif %}d-flex align-items-center w-100 text-decoration-none rounded gap-3 text-nowrap overflow-hidden px-9"
                type="button" data-bs-toggle="collapse" data-bs-target="#productos-collapse" aria-expanded="false" aria-controls="productos-collapse">
                    <i class="bi bi-box fs-5"></i> Productos
                </button>
                <div class="collapse multi-collapse border border-secondary-subtle rounded-1 rounded-top-0 p-0 {% if 'productos' in request.path %}show{% endif %}"
                id="productos-collapse">
                    {% if request.user.tipo_user == 'economico' %}
                    <a href="{% url 'resumen-productos' %}" class="btn btn-outline-black {% if 'resumen-productos' in request.path %}active {% endif %}border-0 rounded-0 w-100 d-flex align-items-center flex-row gap-3 text-start text-nowrap overflow-hidden px-9">
                        <i class="bi bi-card-text"></i> Resumen
                    </a>
                    <a href="{% url 'create-productos' %}" class="btn btn-outline-black {% if 'create-productos' in request.path %}active {% endif %}border-0 rounded-0 w-100 d-flex align-items-center flex-row gap-3 text-start text-nowrap overflow-hidden px-9">
                        <i class="bi bi-plus-circle"></i> Agregar producto
                    </a>
                    <a href="{% url 'list-productos' %}" class="btn btn-outline-black {% if 'list-productos' in request.path %}active {% endif %}border-0 rounded-0 w-100 d-flex align-items-center flex-row gap-3 text-start text-nowrap overflow-hidden px-9">
                        <i class="bi bi-list"></i> Listar productos
                    </a>
                    {% else %}
                    <a href="{% url 'solicitar-productos' %}" class="btn btn-outline-black {% if 'solicitar-productos' in request.path %}active {% endif %}border-0 rounded-0 w-100 d-flex align-items-center flex-row gap-3 text-start text-nowrap overflow-hidden px-9">
                        <i class="bi bi-file-earmark-arrow-up"></i> Solicitar productos
                    </a>
                    <a href="{% url 'solicitudes-productos-tabla' %}" class="btn btn-outline-black {% if 'solicitudes-productos' in request.path %}active {% endif %}border-0 rounded-0 w-100 d-flex align-items-center flex-row gap-3 text-start text-nowrap overflow-hidden px-9">
                        <i class="bi bi-file-earmark-text"></i> Solicitudes
                    </a>
                    {% endif %}
                </div>
            </div>


            {% if request.user.tipo_user == 'economico' %}
            <div class="w-100 overflow-hidden">
                <button
                class="btn {% if 'proveedores' in request.path %}btn-black rounded-bottom-0 {% else %}btn-ghost-black border-0 {% endif %}d-flex align-items-center w-100 text-decoration-none rounded gap-3 text-nowrap overflow-hidden px-9"
                type="button" data-bs-toggle="collapse" data-bs-target="#proveedores-collapse" aria-expanded="false" aria-controls="proveedores-collapse">
                    <i class="bi bi-truck fs-5"></i> Proveedores
                </button>
                <div class="collapse multi-collapse border border-secondary-subtle rounded-1 rounded-top-0 p-0 {% if 'proveedores' in request.path %}show{% endif %}"
                id="proveedores-collapse">
                    <a href="{% url 'resumen-proveedores' %}" class="btn btn-outline-black {% if 'resumen-proveedores' in request.path %}active {% endif %}border-0 rounded-0 w-100 d-flex align-items-center flex-row gap-3 text-start text-nowrap overflow-hidden px-9">
                        <i class="bi bi-card-text"></i> Resumen
                    </a>
                    <a href="{% url 'create-proveedores' %}" class="btn btn-outline-black {% if 'create-proveedores' in request.path %}active {% endif %}border-0 rounded-0 w-100 d-flex align-items-center flex-row gap-3 text-start text-nowrap overflow-hidden px-9">
                        <i class="bi bi-plus-circle"></i> Agregar proveedor
                    </a>
                    <a href="{% url 'list-proveedores' %}" class="btn btn-outline-black {% if 'list-proveedores' in request.path %}active {% endif %}border-0 rounded-0 w-100 d-flex align-items-center flex-row gap-3 text-start text-nowrap overflow-hidden px-9">
                        <i class="bi bi-list"></i> Listar proveedores
                    </a>
                </div>
            </div>
            {% endif %}
            <a href="{% url 'reportes' %}"
                class="btn {% if 'Reportes' in title_page %}btn-black{% else %}btn-ghost-black border-0{% endif %} d-flex align-items-center text-decoration-none rounded gap-3 text-nowrap overflow-hidden px-9">
                <i class="bi bi-clipboard-data fs-5"></i> Reportes
            </a>
        </div>

        <hr class="border-secondary my-2" />

        <div class="d-flex flex-column gap-1">
            <a href="./Usuarios.html"
                class="btn {% if 'Usuarios' in title_page %}btn-black{% else %}btn-ghost-black border-0{% endif %} d-flex align-items-center text-decoration-none rounded gap-3 text-nowrap overflow-hidden px-9">
                <i class="bi bi-person fs-5"></i> Usuarios
            </a>
            <a href="{% url 'self-config' %}"
                class="btn {% if 'Configuración' in title_page %}btn-black{% else %}btn-ghost-black border-0{% endif %} d-flex align-items-center text-decoration-none rounded gap-3 text-nowrap overflow-hidden px-9">
                <i class="bi bi-gear fs-5"></i> Configuración
            </a>
        </div>
    </div>
</aside>